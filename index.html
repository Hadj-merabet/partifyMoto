<!doctype html>
<html lang="fr" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Partify Moto</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        brand: {500:'#f97316',600:'#ea580c'}
      }
    }
  }
}
</script>
</head>

<body class="bg-white text-slate-700">

<!-- NAVBAR -->
<nav class="fixed top-0 w-full bg-white border-b z-50">
  <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
    <span class="font-semibold text-lg">PARTIFY MOTO</span>

    <div class="flex items-center gap-6">
      <a href="#panier" class="font-medium text-sm text-slate-700 hover:text-brand-600">
        Voir le panier
      </a>
      <div class="relative">
        <span class="iconify text-xl" data-icon="lucide:shopping-cart"></span>
        <span id="cartCount"
          class="absolute -top-2 -right-2 bg-brand-600 text-white text-xs px-1.5 rounded-full">0</span>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="pt-32 pb-20 text-center max-w-3xl mx-auto px-6">
  <h1 class="text-4xl font-semibold text-slate-900">
    Pièces moto au meilleur prix
  </h1>
  <p class="text-slate-500 mt-4">
    Carénages d’origine et premium compatibles
  </p>
</header>

<!-- PRODUITS -->
<section class="max-w-5xl mx-auto px-6 pb-24 space-y-6">

  <div class="border rounded-xl p-4 grid md:grid-cols-3 gap-4">
    <img class="rounded-lg object-cover h-40 w-full"
      src="https://images.unsplash.com/photo-1503376780353-7e6692767b70">

    <div class="md:col-span-2">
      <h3 class="text-lg font-semibold text-slate-900">
        Carénage Acerbis – Yamaha YZ125
      </h3>

      <p class="text-sm text-slate-500 mt-2">
        Kit carénage premium, résistant et léger.
      </p>

      <div class="mt-4 flex items-center justify-between">
        <span class="text-xl font-bold">99,90 €</span>

        <div class="flex gap-2">
          <select id="qty1" class="border rounded-lg px-3 py-2 text-sm">
            <option>1</option><option>2</option><option>3</option>
          </select>

          <button onclick="addToCart({
            id:'acerbis-yz125',
            name:'Carénage Acerbis – YZ125',
            price:99.9,
            qty:parseInt(document.getElementById('qty1').value)
          })"
          class="bg-brand-600 hover:bg-brand-500 text-white px-4 py-2 rounded-lg">
            Ajouter au panier
          </button>
        </div>
      </div>
    </div>
  </div>

</section>

<!-- PAGE PANIER -->
<section id="panier" class="bg-slate-50 py-24">
  <div class="max-w-3xl mx-auto px-6">
    <h2 class="text-3xl font-semibold text-slate-900 mb-8">
      Mon panier
    </h2>

    <div id="cartItems" class="space-y-4"></div>

    <div class="border-t mt-6 pt-6 flex justify-between items-center">
      <span class="text-xl font-semibold">Total</span>
      <span id="cartTotal" class="text-xl font-bold">0 €</span>
    </div>

    <button
      class="w-full mt-6 bg-brand-600 hover:bg-brand-500 text-white py-3 rounded-lg font-medium">
      Passer au paiement
    </button>
  </div>
</section>

<!-- SCRIPT PANIER -->
<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function saveCart() {
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartUI();
}

function addToCart(product) {
  const existing = cart.find(p => p.id === product.id);
  if (existing) {
    existing.qty += product.qty;
  } else {
    cart.push(product);
  }
  saveCart();
  document.getElementById("panier").scrollIntoView({behavior:"smooth"});
}

function updateCartUI() {
  document.getElementById("cartCount").textContent =
    cart.reduce((a,b) => a + b.qty, 0);

  const cartItems = document.getElementById("cartItems");
  const cartTotal = document.getElementById("cartTotal");

  cartItems.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    total += item.price * item.qty;
    cartItems.innerHTML += `
      <div class="bg-white border rounded-lg p-4">
        <div class="font-medium">${item.name}</div>
        <div class="text-sm text-slate-500">Quantité : ${item.qty}</div>
        <div class="font-semibold mt-1">${(item.price * item.qty).toFixed(2)} €</div>
      </div>
    `;
  });

  cartTotal.textContent = total.toFixed(2) + " €";
}

updateCartUI();
</script>

</body>
</html>
