<!doctype html>
<html lang="fr" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Partify Moto â€“ Catalogue</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>

<style>
body{font-family:Inter,system-ui}
.filter-btn.active{background:#ea580c;color:white}
</style>
</head>

<body class="bg-white text-slate-600 font-sans antialiased selection:bg-brand-100 selection:text-brand-600">

<!-- NAVBAR -->
<nav class="fixed top-0 w-full bg-white border-b z-50">
  <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
    <span class="font-semibold text-lg">PARTIFY MOTO</span>
    <a href="panier.html" class="flex items-center gap-1 text-sm font-medium hover:text-orange-600">
      ðŸ›’ Panier
      <span id="cartCount" class="ml-1 bg-orange-600 text-white text-xs px-1.5 rounded-full">0</span>
    </a>
  </div>
</nav>

<!-- HEADER -->
<header class="bg-white shadow p-6 text-center">
  <h1 class="text-3xl font-bold">PARTIFY MOTO</h1>
  <p class="text-slate-500">PiÃ¨ces moto â€“ carÃ©nages, freinage, moteur</p>
</header>

<!-- PRODUITS -->
<section id="results" class="max-w-6xl mx-auto px-6 grid gap-6 mt-10"></section>

<!-- SCRIPT PRODUITS & PANIER -->
<script>
const products = [
  {cat:"carenage", title:"CarÃ©nage origine", price:219, img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80"},
  {cat:"carenage", title:"CarÃ©nage premium", price:109, img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80"},
  {cat:"freinage", title:"Plaquettes origine", price:34, img:"https://images.unsplash.com/photo-1600861194942-f883de0dfe96?auto=format&fit=crop&w=800&q=80"},
  {cat:"freinage", title:"Plaquettes premium", price:44, img:"https://images.unsplash.com/photo-1600861194942-f883de0dfe96?auto=format&fit=crop&w=800&q=80"},
  {cat:"moteur", title:"Piston moteur", price:89, img:"https://images.unsplash.com/photo-1604147706283-d7119b5b822c?auto=format&fit=crop&w=800&q=80"},
  {cat:"moteur", title:"Cylindre moteur", price:219, img:"https://images.unsplash.com/photo-1604147706283-d7119b5b822c?auto=format&fit=crop&w=800&q=80"}
];

const results = document.getElementById("results");

function getCart() {
  return JSON.parse(localStorage.getItem("cart")) || [];
}

function saveCart(cart) {
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
}

function updateCartCount() {
  const cart = getCart();
  const count = cart.reduce((t, i) => t + i.qty, 0);
  const badge = document.getElementById("cartCount");
  if (badge) badge.textContent = count;
}

function addToCart(name, price, qty = 1) {
  const cart = getCart();
  const existing = cart.find(p => p.name === name);

  if (existing) {
    existing.qty += qty;
  } else {
    cart.push({ name, price, qty });
  }

  saveCart(cart);
  alert("Produit ajoutÃ© au panier");
}

updateCartCount();

products.forEach(p=>{
  results.innerHTML += `
    <div class="product bg-white p-4 rounded shadow">
      <img src="${p.img}" class="w-full h-48 object-cover rounded">
      <h3 class="mt-2 font-semibold">${p.title}</h3>
      <p class="text-orange-600 font-bold">${p.price} â‚¬</p>
      <select class="mt-2 border p-2 w-full">
        ${[1,2,3,4,5].map(n=>`<option>${n}</option>`).join("")}
      </select>
      <button class="mt-2 w-full bg-orange-600 text-white p-2 rounded"
        onclick="addToCart('${p.title}', ${p.price}, parseInt(this.previousElementSibling.value))">
        Commander
      </button>
    </div>
  `;
});
</script>

</body>
</html>
