<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Partify Moto â€“ PiÃ¨ces moto</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdn.tailwindcss.com"></script>

<style>
body{font-family:Inter,system-ui}
.filter-btn.active{background:#ea580c;color:white}
</style>
</head>

<body class="bg-slate-50 text-slate-800">

<!-- HEADER -->
<header class="bg-white shadow p-6 flex justify-between items-center">
  <div>
    <h1 class="text-3xl font-bold">PARTIFY MOTO</h1>
    <p class="text-slate-500">CarÃ©nages Â· Freinage Â· Moteur</p>
  </div>
  <button onclick="openCart()" class="relative bg-orange-600 text-white px-4 py-2 rounded">
    Panier (<span id="cartCount">0</span>)
  </button>
</header>

<!-- SEARCH -->
<section class="max-w-4xl mx-auto p-6 bg-white mt-6 rounded shadow">
  <div class="grid grid-cols-3 gap-3">
    <select id="brand" class="p-3 border rounded">
      <option value="">Marque</option>
      <option>Yamaha</option>
      <option>Honda</option>
    </select>
    <select id="model" class="p-3 border rounded">
      <option value="">ModÃ¨le</option>
    </select>
    <select id="year" class="p-3 border rounded">
      <option value="">AnnÃ©e</option>
    </select>
  </div>

  <button id="searchBtn" class="mt-4 w-full bg-orange-600 text-white p-3 rounded">
    Trouver mes piÃ¨ces
  </button>
</section>

<!-- RESULTS -->
<section id="results" class="max-w-6xl mx-auto px-6 grid md:grid-cols-3 gap-6 mt-6"></section>

<!-- PANIER -->
<div id="cartModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center">
  <div class="bg-white w-full max-w-lg p-6 rounded shadow">
    <h2 class="text-xl font-bold mb-4">Votre panier</h2>
    <div id="cartItems" class="space-y-3"></div>
    <div class="flex justify-between mt-4 font-bold">
      <span>Total</span>
      <span id="cartTotal">0 â‚¬</span>
    </div>
    <div class="mt-4 flex gap-2">
      <button onclick="closeCart()" class="flex-1 border p-2 rounded">Continuer</button>
      <button onclick="checkout()" class="flex-1 bg-orange-600 text-white p-2 rounded">
        Commander
      </button>
    </div>
  </div>
</div>

<script>
/* DATA */
const models = {
  Yamaha:["PW50","YZ85","YZ125","YZ250","YZ450F"],
  Honda:["CRF50","CRF125"]
};
const years = Array.from({length:10},(_,i)=>2025-i);
let cart = [];

/* IMAGES 3D NEUTRES (SVG â€“ 100% lÃ©gal) */
function productImage(cat){
  if(cat==="carenage"){
    return `data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 250'>
      <defs>
        <linearGradient id='g' x1='0' x2='1'>
          <stop offset='0%' stop-color='%23cbd5e1'/>
          <stop offset='100%' stop-color='%2394a3b8'/>
        </linearGradient>
      </defs>
      <path d='M40 160 Q120 60 300 90 L350 140 Q240 190 120 200 Z' fill='url(%23g)'/>
    </svg>`;
  }

  if(cat==="freinage"){
    return `data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 250'>
      <circle cx='150' cy='125' r='80' fill='%23cbd5e1'/>
      <circle cx='150' cy='125' r='30' fill='%2394a3b8'/>
      <rect x='210' y='80' width='40' height='90' rx='8' fill='%2364748b'/>
    </svg>`;
  }

  return `data:image/svg+xml;utf8,
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 250'>
    <rect x='90' y='40' width='120' height='160' rx='20' fill='%2394a3b8'/>
    <rect x='110' y='20' width='80' height='40' rx='10' fill='%2364748b'/>
  </svg>`;
}

/* SEARCH */
document.getElementById("brand").onchange=()=>{
  model.innerHTML="<option>ModÃ¨le</option>";
  models[brand.value]?.forEach(m=>model.innerHTML+=`<option>${m}</option>`);
  year.innerHTML="<option>AnnÃ©e</option>";
  years.forEach(y=>year.innerHTML+=`<option>${y}</option>`);
};

document.getElementById("searchBtn").onclick=()=>{
  results.innerHTML="";

  const products=[
    {cat:"carenage",title:"CarÃ©nage origine",price:219},
    {cat:"freinage",title:"Plaquettes frein",price:34},
    {cat:"moteur",title:"Piston moteur",price:89}
  ];

  products.forEach(p=>{
    results.innerHTML+=`
    <div class="bg-white p-4 rounded shadow">
      <img src="${productImage(p.cat)}" class="w-full h-40 object-contain">
      <h3 class="mt-2 font-semibold">${p.title}</h3>
      <p class="text-sm text-slate-500">${brand.value} ${model.value} ${year.value}</p>
      <p class="text-orange-600 font-bold">${p.price} â‚¬</p>
      <button onclick="addToCart(${JSON.stringify(p).replace(/"/g,'&quot;')},1)"
        class="mt-2 w-full bg-orange-600 text-white p-2 rounded">
        Ajouter au panier
      </button>
    </div>`;
  });
};

/* PANIER */
function addToCart(p,qty){cart.push({...p,qty});updateCart();}
function updateCart(){
  cartCount.textContent=cart.length;
  cartItems.innerHTML="";
  let total=0;
  cart.forEach(i=>{
    total+=i.price;
    cartItems.innerHTML+=`<p>${i.title} â€“ ${i.price} â‚¬</p>`;
  });
  cartTotal.textContent=total+" â‚¬";
}
function openCart(){cartModal.classList.remove("hidden")}
function closeCart(){cartModal.classList.add("hidden")}
function checkout(){alert("Paiement Ã  venir ðŸš€")}
</script>

</body>
</html>
